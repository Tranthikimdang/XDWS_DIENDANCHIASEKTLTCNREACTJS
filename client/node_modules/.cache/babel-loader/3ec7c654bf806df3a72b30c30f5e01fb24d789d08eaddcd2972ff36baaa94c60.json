{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = process.env.REACT_APP_API_URI;\n// const API_URL = \"process.env.REACT_APP_API_URI\";\n// console.log(process.env);\nconsole.log('API_URL:', API_URL);\nconst addArticle = async articles => {\n  try {\n    const response = await axios.post(`${API_URL}/articles`, articles);\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n};\nconst getList = async () => {\n  try {\n    const response = await axios.get(`${API_URL}/articles`);\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n};\nconst getArticleDetails = async id => {\n  // Chuyển đổi id giả (index + 1) thành id thực sự nếu cần\n  const realId = id; // Giả sử id từ API là chính xác\n  console.log('Fetching details for ID:', realId);\n  try {\n    const response = await axios.get(`${API_URL}/articles/${realId}`);\n    if (response.status === 200) {\n      return response.data;\n    } else {\n      throw new Error(`Unexpected response status: ${response.status}`);\n    }\n  } catch (error) {\n    if (error.response) {\n      console.error('Error fetching article details:', error.response.data);\n      throw new Error(`Failed to fetch article details: ${error.response.data.message || error.message}`);\n    } else if (error.request) {\n      console.error('Network error:', error.request);\n      throw new Error('Network error: Unable to fetch article details.');\n    } else {\n      console.error('Client error:', error.message);\n      throw new Error('An error occurred: ' + error.message);\n    }\n  }\n};\nconst updateArticle = async (id, updatedData) => {\n  try {\n    const response = await axios.put(`${API_URL}/articles/${id}`, updatedData);\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n};\nconst deleteArticle = async id => {\n  try {\n    const response = await axios.delete(`${API_URL}/articles/${id}`);\n    return response.status === 204;\n  } catch (error) {\n    throw error;\n  }\n};\nexport default {\n  addArticle,\n  getList,\n  getArticleDetails,\n  updateArticle,\n  deleteArticle\n};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URI","console","log","addArticle","articles","response","post","data","error","getList","get","getArticleDetails","id","realId","status","Error","message","request","updateArticle","updatedData","put","deleteArticle","delete"],"sources":["H:/React/XDWS_DIENDANCHIASEKTLTCNREACTJS/client/src/apis/articleApi.js"],"sourcesContent":["import axios from \"axios\";\r\nconst API_URL = process.env.REACT_APP_API_URI;\r\n// const API_URL = \"process.env.REACT_APP_API_URI\";\r\n// console.log(process.env);\r\nconsole.log('API_URL:', API_URL);\r\n\r\nconst addArticle = async (articles) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/articles`, articles);\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getList = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/articles`);\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getArticleDetails = async (id) => {\r\n  // Chuyển đổi id giả (index + 1) thành id thực sự nếu cần\r\n  const realId = id; // Giả sử id từ API là chính xác\r\n  console.log('Fetching details for ID:', realId);\r\n  try {\r\n    const response = await axios.get(`${API_URL}/articles/${realId}`);\r\n    if (response.status === 200) {\r\n      return response.data;\r\n    } else {\r\n      throw new Error(`Unexpected response status: ${response.status}`);\r\n    }\r\n  } catch (error) {\r\n    if (error.response) {\r\n      console.error('Error fetching article details:', error.response.data);\r\n      throw new Error(`Failed to fetch article details: ${error.response.data.message || error.message}`);\r\n    } else if (error.request) {\r\n      console.error('Network error:', error.request);\r\n      throw new Error('Network error: Unable to fetch article details.');\r\n    } else {\r\n      console.error('Client error:', error.message);\r\n      throw new Error('An error occurred: ' + error.message);\r\n    }\r\n  }\r\n};\r\n\r\n\r\nconst updateArticle = async (id, updatedData) => {\r\n  try {\r\n    const response = await axios.put(`${API_URL}/articles/${id}`, updatedData);\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst deleteArticle = async (id) => {\r\n  try {\r\n    const response = await axios.delete(`${API_URL}/articles/${id}`);\r\n    return response.status === 204;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport default {\r\n  addArticle,\r\n  getList,\r\n  getArticleDetails,\r\n  updateArticle,\r\n  deleteArticle,\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}